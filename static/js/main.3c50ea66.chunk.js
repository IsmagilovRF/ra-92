(this["webpackJsonphw92-crud"]=this["webpackJsonphw92-crud"]||[]).push([[0],{1566:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),a=n(45),i=n.n(a),o=(n(52),n(11)),r=n(12),l=n(14),d=n(13),j=n(8),u=n(2),b=n(15),h=n(9),m=n.n(h),p=n(20),O=n.n(p),v=n(46),x=n.n(v),g=n(0),f=function(e){var t=e.content,n=e.created,c=e.children;return Object(g.jsxs)("div",{className:"ui centered card",children:[Object(g.jsx)("div",{className:"ui medium circular image",children:Object(g.jsx)("img",{src:O.a.image.avatar(),alt:"avatar"})}),Object(g.jsxs)("div",{className:"content",children:[Object(g.jsx)("span",{href:"#",className:"ui red horizontal label",children:O.a.name.firstName()}),Object(g.jsx)("div",{className:"metadata",children:Object(g.jsx)("span",{className:"ui purple horizontal label",children:x()(n).format("DD.MM.YYYY HH:mm:ss")})}),Object(g.jsx)("div",{className:"text",children:t}),Object(g.jsx)("div",{className:"actions",children:c})]})]})},N=function(){return Object(g.jsxs)("div",{className:"ui progress",children:[Object(g.jsx)("div",{className:"bar",children:Object(g.jsx)("div",{className:"progress"})}),Object(g.jsx)("div",{className:"label",children:"Uploading Files"})]})},k=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var c=arguments.length,s=new Array(c),a=0;a<c;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={posts:[],loading:!0},e.setData=function(t){e.setState({posts:t,loading:!1})},e.getPosts=function(){m.a.get("".concat("https://ra-92-server.herokuapp.com","/posts")).then((function(t){return e.setData(t.data)}))},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.getPosts()}},{key:"render",value:function(){var e=this.state,t=e.posts;return e.loading?Object(g.jsx)(N,{}):Object(g.jsx)("div",{className:"ui comments",children:t.map((function(e,t){return Object(g.jsx)(f,Object(b.a)(Object(b.a)({},e),{},{children:Object(g.jsx)(j.b,{to:"/posts/".concat(e.id),className:"ui teal tag label",children:"\u041f\u043e\u0431\u0440\u043e\u0431\u043d\u0435\u0435"})}),t)}))})}}]),n}(s.a.Component),y=n(17),S=function(e){var t=e.content,n=e.onSubmit,s=e.children,a=Object(c.useState)(""),i=Object(y.a)(a,2),o=i[0],r=i[1],l=Object(c.useState)(!1),d=Object(y.a)(l,2),j=d[0],u=d[1];Object(c.useEffect)((function(){t&&r(t)}),[t]);return j?Object(g.jsx)(N,{}):Object(g.jsxs)("form",{className:"ui form",children:[Object(g.jsx)("div",{className:"field",children:Object(g.jsx)("textarea",{onChange:function(e){var t=e.target.value;r(t)},value:o})}),Object(g.jsxs)("div",{className:"ui green labeled submit icon button",onClick:function(e){return t=e,u(!0),t.preventDefault(),void n(o);var t},children:[Object(g.jsx)("i",{className:"hand pointer blue icon"})," \u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c"]}),s]})},C=function(){var e=Object(c.useState)(!1),t=Object(y.a)(e,2),n=t[0],s=t[1];return n?Object(g.jsx)(u.a,{to:"/"}):Object(g.jsx)(S,{onSubmit:function(e){m.a.post("".concat("https://ra-92-server.herokuapp.com","/posts"),{id:0,content:e}).then((function(){return s(!0)})).catch((function(e){console.log(e.message)}))}})},w=function(){return Object(g.jsxs)("div",{className:"ui icon message",children:[Object(g.jsx)("i",{className:"power off red icon"}),Object(g.jsxs)("div",{className:"content",children:[Object(g.jsx)("div",{className:"header",children:"\u041e\u0448\u0438\u0431\u043a\u0430 404"}),Object(g.jsx)("p",{children:"\u0418\u0437\u0432\u0438\u043d\u0438, \u0434\u0440\u0443\u0433. \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0432\u044b \u0437\u0430\u043f\u0440\u043e\u0441\u0438\u043b\u0438, \u043d\u0435 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u0432 \u043d\u0430\u0448\u0435\u0439 \u0431\u0430\u0437\u0435 \u0434\u0430\u043d\u043d\u044b\u0445. \u0421\u043a\u043e\u0440\u0435\u0435 \u0432\u0441\u0435\u0433\u043e \u0432\u044b \u043f\u043e\u043f\u0430\u043b\u0438 \u043d\u0430 \u0431\u0438\u0442\u0443\u044e \u0441\u0441\u044b\u043b\u043a\u0443 \u0438\u043b\u0438 \u043e\u043f\u0435\u0447\u0430\u0442\u0430\u043b\u0438\u0441\u044c \u043f\u0440\u0438 \u0432\u0432\u043e\u0434\u0435 URL"})]})]})},D=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var c=arguments.length,s=new Array(c),a=0;a<c;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={post:null,deleted:!1,editing:!1,loading:!0},e.toggleEditing=function(){e.setState((function(e){return{editing:!e.editing}}))},e.handleDelete=function(){e.setState({loading:!0});var t=e.props.match.params;m.a.delete("".concat("https://ra-92-server.herokuapp.com","/posts/").concat(t.id)).then((function(){return e.setState({deleted:!0})})).catch((function(e){console.log(e.message)}))},e.handleEdit=function(t){m.a.post("".concat("https://ra-92-server.herokuapp.com","/posts"),{id:e.state.post.id,content:t}).then((function(){return e.props.history.go(0)})).catch((function(e){console.log(e.message)}))},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params,n=Number(t.id);m.a.get("".concat("https://ra-92-server.herokuapp.com","/posts")).then((function(t){var c=t.data.find((function(e){return e.id===n}));e.setState({post:c,loading:!1})}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.post,c=t.deleted,s=t.editing,a=t.loading;return c?Object(g.jsx)(u.a,{to:"/"}):s?Object(g.jsx)(S,{content:n.content,onSubmit:this.handleEdit,children:Object(g.jsx)("div",{className:"ui red button",onClick:function(){return e.toggleEditing()},children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})}):void 0===n?Object(g.jsx)(w,{}):a?Object(g.jsx)(N,{}):(console.log(this.state),Object(g.jsx)("div",{className:"ui comments",children:Object(g.jsxs)(f,Object(b.a)(Object(b.a)({},n),{},{children:[Object(g.jsx)("button",{className:"ui brown basic button",onClick:this.toggleEditing,children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"}),Object(g.jsx)("button",{className:"ui red basic button",onClick:this.handleDelete,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]}))}))}}]),n}(s.a.Component),E=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(g.jsx)("div",{className:"ui raised very padded text container segment",children:Object(g.jsxs)(j.a,{children:[Object(g.jsx)("div",{className:"ui basic segment",children:Object(g.jsxs)("div",{className:"ui center aligned segment",children:[Object(g.jsx)(j.b,{to:"/",className:"ui icon button",children:Object(g.jsx)("i",{className:"home orange icon"})}),Object(g.jsx)(j.b,{to:"/posts/new",className:"positive ui button",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043e\u0441\u0442"})]})}),Object(g.jsx)("div",{className:"ui basic segment",children:Object(g.jsxs)(u.d,{children:[Object(g.jsx)(u.b,{path:"/posts/new",component:C}),Object(g.jsx)(u.b,{path:"/posts/:id",component:D}),Object(g.jsx)(u.b,{path:"/",exact:!0,component:k}),Object(g.jsx)(u.b,{path:"*",component:w})]})})]})})}}]),n}(s.a.Component),F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,1567)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),s(e),a(e),i(e)}))};i.a.render(Object(g.jsx)(s.a.StrictMode,{children:Object(g.jsx)(E,{})}),document.getElementById("root")),F()},52:function(e,t,n){}},[[1566,1,2]]]);
//# sourceMappingURL=main.3c50ea66.chunk.js.map